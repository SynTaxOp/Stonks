{"ast":null,"code":"import React from'react';import{Calendar,Coins,PieChart,TrendingUp,TrendingDown,Trash2}from'lucide-react';import TransactionTypeBadge from'./TransactionTypeBadge';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UnitsRow=_ref=>{let{unit,index,formatCurrency,formatDate,formatPercentage,onDelete}=_ref;const isSold=unit.isSold||false;const transactionType=unit.TransactionType||unit.transactionType||'BUY';// Handle case variations\nconst isSellTransaction=transactionType==='SELL';// Determine row styling\nconst getRowStyles=()=>{if(isSellTransaction){return{container:'bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500 hover:from-red-100 hover:to-red-200',text:'text-red-800',accent:'text-red-600'};}else if(isSold){return{container:'bg-gradient-to-r from-gray-50 to-gray-100 border-l-4 border-gray-400 hover:from-gray-100 hover:to-gray-200',text:'text-gray-700',accent:'text-gray-600'};}else{return{container:'bg-gradient-to-r from-green-50 to-green-100 border-l-4 border-green-500 hover:from-green-100 hover:to-green-200',text:'text-green-800',accent:'text-green-600'};}};const styles=getRowStyles();return/*#__PURE__*/_jsxs(\"tr\",{className:\"\".concat(styles.container,\" transition-all duration-300 hover:shadow-md group\"),children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 \".concat(styles.accent,\" mt-0.5\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium \".concat(styles.text),children:formatDate(unit.date)==='Invalid Date'?/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 font-bold\",children:\"Invalid Date\"}):formatDate(unit.date)}),unit.sellDate&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-500 mt-0.5\",children:[\"Sold on: \",formatDate(unit.sellDate)]})]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(TransactionTypeBadge,{transactionType:transactionType,isSold:isSold,className:\"transform group-hover:scale-110 transition-transform duration-200\"})})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Coins,{className:\"h-4 w-4 \".concat(styles.accent)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold \".concat(styles.text),children:formatCurrency(unit.amount)})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(PieChart,{className:\"h-4 w-4 \".concat(styles.accent)}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold \".concat(styles.text),children:unit.units!=null?unit.units.toFixed(4):'0.0000'})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[(unit.profitLoss||0)>=0?/*#__PURE__*/_jsx(TrendingUp,{className:\"h-4 w-4 text-green-500\"}):/*#__PURE__*/_jsx(TrendingDown,{className:\"h-4 w-4 text-red-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold \".concat((unit.profitLoss||0)>=0?'text-green-600':'text-red-600'),children:formatCurrency(unit.profitLoss)})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold \".concat((unit.profitLossPercent||0)>=0?'text-green-600':'text-red-600'),children:formatPercentage(unit.profitLossPercent)}),(unit.profitLossPercent||0)>=0?/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"})]})}),onDelete&&/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(unit),className:\"text-red-600 hover:text-red-900 focus:outline-none focus:underline\",title:\"Delete transaction\",disabled:!unit.transactionId,children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})})]});};export default UnitsRow;","map":{"version":3,"names":["React","Calendar","Coins","PieChart","TrendingUp","TrendingDown","Trash2","TransactionTypeBadge","jsx","_jsx","jsxs","_jsxs","UnitsRow","_ref","unit","index","formatCurrency","formatDate","formatPercentage","onDelete","isSold","transactionType","TransactionType","isSellTransaction","getRowStyles","container","text","accent","styles","className","concat","children","date","sellDate","amount","units","toFixed","profitLoss","profitLossPercent","onClick","title","disabled","transactionId"],"sources":["/Users/srejanbera/Workspace/Stonks/frontend/src/components/common/UnitsRow.jsx"],"sourcesContent":["import React from 'react';\nimport { Calendar, Coins, PieChart, TrendingUp, TrendingDown, Trash2 } from 'lucide-react';\nimport TransactionTypeBadge from './TransactionTypeBadge';\n\nconst UnitsRow = ({ unit, index, formatCurrency, formatDate, formatPercentage, onDelete }) => {\n  const isSold = unit.isSold || false;\n  const transactionType = unit.TransactionType || unit.transactionType || 'BUY'; // Handle case variations\n  const isSellTransaction = transactionType === 'SELL';\n  \n  // Determine row styling\n  const getRowStyles = () => {\n    if (isSellTransaction) {\n      return {\n        container: 'bg-gradient-to-r from-red-50 to-red-100 border-l-4 border-red-500 hover:from-red-100 hover:to-red-200',\n        text: 'text-red-800',\n        accent: 'text-red-600'\n      };\n    } else if (isSold) {\n      return {\n        container: 'bg-gradient-to-r from-gray-50 to-gray-100 border-l-4 border-gray-400 hover:from-gray-100 hover:to-gray-200',\n        text: 'text-gray-700',\n        accent: 'text-gray-600'\n      };\n    } else {\n      return {\n        container: 'bg-gradient-to-r from-green-50 to-green-100 border-l-4 border-green-500 hover:from-green-100 hover:to-green-200',\n        text: 'text-green-800',\n        accent: 'text-green-600'\n      };\n    }\n  };\n\n  const styles = getRowStyles();\n\n  return (\n    <tr className={`${styles.container} transition-all duration-300 hover:shadow-md group`}>\n      {/* Date Column */}\n      <td className=\"px-6 py-4 whitespace-nowrap\">\n        <div className=\"flex items-start space-x-2\">\n          <Calendar className={`h-4 w-4 ${styles.accent} mt-0.5`} />\n          <div className=\"flex flex-col\">\n            <span className={`text-sm font-medium ${styles.text}`}>\n              {formatDate(unit.date) === 'Invalid Date' ? (\n                <span className=\"text-red-500 font-bold\">Invalid Date</span>\n              ) : (\n                formatDate(unit.date)\n              )}\n            </span>\n            {unit.sellDate && (\n              <span className=\"text-xs text-gray-500 mt-0.5\">\n                Sold on: {formatDate(unit.sellDate)}\n              </span>\n            )}\n          </div>\n        </div>\n      </td>\n\n      {/* Transaction Type Column */}\n      <td className=\"px-6 py-4 whitespace-nowrap\">\n        <div className=\"flex justify-center\">\n          <TransactionTypeBadge \n            transactionType={transactionType} \n            isSold={isSold}\n            className=\"transform group-hover:scale-110 transition-transform duration-200\"\n          />\n        </div>\n      </td>\n\n      {/* Amount Column */}\n      <td className=\"px-6 py-4 whitespace-nowrap\">\n        <div className=\"flex items-center space-x-2\">\n          <Coins className={`h-4 w-4 ${styles.accent}`} />\n          <span className={`text-sm font-semibold ${styles.text}`}>\n            {formatCurrency(unit.amount)}\n          </span>\n        </div>\n      </td>\n\n      {/* Units Column */}\n      <td className=\"px-6 py-4 whitespace-nowrap\">\n        <div className=\"flex items-center space-x-2\">\n          <PieChart className={`h-4 w-4 ${styles.accent}`} />\n          <span className={`text-sm font-semibold ${styles.text}`}>\n            {unit.units != null ? unit.units.toFixed(4) : '0.0000'}\n          </span>\n        </div>\n      </td>\n\n      {/* Sell Date moved under main Date (no separate column) */}\n\n      {/* Profit/Loss Column */}\n      <td className=\"px-6 py-4 whitespace-nowrap\">\n        <div className=\"flex items-center space-x-2\">\n          {(unit.profitLoss || 0) >= 0 ? (\n            <TrendingUp className=\"h-4 w-4 text-green-500\" />\n          ) : (\n            <TrendingDown className=\"h-4 w-4 text-red-500\" />\n          )}\n          <span className={`text-sm font-semibold ${\n            (unit.profitLoss || 0) >= 0 ? 'text-green-600' : 'text-red-600'\n          }`}>\n            {formatCurrency(unit.profitLoss)}\n          </span>\n        </div>\n      </td>\n\n      {/* Profit/Loss Percentage Column */}\n      <td className=\"px-6 py-4 whitespace-nowrap\">\n        <div className=\"flex items-center space-x-2\">\n          <span className={`text-sm font-semibold ${\n            (unit.profitLossPercent || 0) >= 0 ? 'text-green-600' : 'text-red-600'\n          }`}>\n            {formatPercentage(unit.profitLossPercent)}\n          </span>\n          {(unit.profitLossPercent || 0) >= 0 ? (\n            <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n          ) : (\n            <div className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"></div>\n          )}\n        </div>\n      </td>\n\n      {/* Actions Column */}\n      {onDelete && (\n        <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n          <button\n            onClick={() => onDelete(unit)}\n            className=\"text-red-600 hover:text-red-900 focus:outline-none focus:underline\"\n            title=\"Delete transaction\"\n            disabled={!unit.transactionId}\n          >\n            <Trash2 className=\"h-4 w-4\" />\n          </button>\n        </td>\n      )}\n    </tr>\n  );\n};\n\nexport default UnitsRow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}