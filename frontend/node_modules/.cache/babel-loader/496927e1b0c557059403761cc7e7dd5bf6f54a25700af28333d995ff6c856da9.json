{"ast":null,"code":"import React,{useState}from'react';import{transactionAPI}from'../../services/api.js';import{Coins,ArrowUpDown}from'lucide-react';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const BulkTransactionForm=_ref=>{let{isOpen,fund,userId,onClose,onSuccess}=_ref;const[transactions,setTransactions]=useState([{date:'',transactionType:'BUY',amount:'',units:'',inputType:'amount'}]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleTransactionChange=(index,field,value)=>{const newTransactions=[...transactions];newTransactions[index][field]=value;setTransactions(newTransactions);};const addTransactionField=()=>{setTransactions([...transactions,{date:'',transactionType:'BUY',amount:'',units:'',inputType:'amount'}]);};const removeTransactionField=index=>{const newTransactions=transactions.filter((_,i)=>i!==index);setTransactions(newTransactions);};const handleInputTypeChange=(index,inputType)=>{const newTransactions=[...transactions];newTransactions[index].inputType=inputType;newTransactions[index].amount='';newTransactions[index].units='';setTransactions(newTransactions);};const validateForm=()=>{setError(null);for(let i=0;i<transactions.length;i++){const tx=transactions[i];if(!tx.date){setError(\"Date is required for transaction \".concat(i+1,\".\"));return false;}if(!tx.transactionType){setError(\"Transaction type is required for transaction \".concat(i+1,\".\"));return false;}// Validate based on selected input type\nif(tx.inputType==='amount'){if(!tx.amount||parseFloat(tx.amount)<=0){setError(\"Amount must be a positive number for transaction \".concat(i+1,\".\"));return false;}}else{if(!tx.units||parseFloat(tx.units)<=0){setError(\"Units must be a positive number for transaction \".concat(i+1,\".\"));return false;}}}return true;};const formatDateToDDMMYYYY=dateString=>{// Convert YYYY-MM-DD to dd-MM-yyyy\nconst date=new Date(dateString);const day=String(date.getDate()).padStart(2,'0');const month=String(date.getMonth()+1).padStart(2,'0');const year=date.getFullYear();return\"\".concat(day,\"-\").concat(month,\"-\").concat(year);};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}setLoading(true);setError(null);const transactionsToSend=transactions.map(tx=>({userId:userId,fundId:fund.schemeCode,fundName:fund.schemeName,amount:tx.inputType==='amount'&&tx.amount?parseFloat(tx.amount):null,units:tx.inputType==='units'&&tx.units?parseFloat(tx.units):null,date:formatDateToDDMMYYYY(tx.date),// Convert to \"dd-MM-yyyy\" format\ntransactionType:tx.transactionType,price:0// Backend will calculate\n}));try{const response=await transactionAPI.addBulkTransactions(transactionsToSend);if(response&&response.success){onSuccess(response.data);// Pass the success message from backend\nsetTransactions([{date:'',transactionType:'BUY',amount:'',units:'',inputType:'amount'}]);// Reset form\nonClose();}else{setError(response.message||'Failed to add bulk transactions.');}}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message||'An unexpected error occurred.');}finally{setLoading(false);}};const getTodayDate=()=>{const today=new Date();return today.toISOString().split('T')[0];};if(!isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:[\"Add Bulk Transactions - \",fund.schemeName]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-gray-500 hover:text-gray-700 text-2xl\",children:\"\\xD7\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4\",role:\"alert\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"font-bold\",children:\"Error!\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"block sm:inline\",children:[\" \",error]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:transactions.map((tx,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 border-b pb-4 mb-4 last:border-b-0 last:pb-0 last:mb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm font-medium text-gray-700 mb-2\",children:[\"Transaction \",index+1]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date-\".concat(index),className:\"block text-sm font-medium text-gray-700\",children:\"Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"date-\".concat(index),name:\"date\",value:tx.date,onChange:e=>handleTransactionChange(index,'date',e.target.value),className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",max:getTodayDate(),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"type-\".concat(index),className:\"block text-sm font-medium text-gray-700\",children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"type-\".concat(index),name:\"transactionType\",value:tx.transactionType,onChange:e=>handleTransactionChange(index,'transactionType',e.target.value),className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"BUY\",children:\"BUY\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SELL\",children:\"SELL\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Specify by\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>handleInputTypeChange(index,'amount'),className:\"flex-1 px-4 py-2 text-sm font-medium rounded-md border transition-colors \".concat(tx.inputType==='amount'?'bg-blue-50 border-blue-300 text-blue-700':'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(Coins,{className:\"h-4 w-4 inline mr-2\"}),\"Amount (\\u20B9)\"]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>handleInputTypeChange(index,'units'),className:\"flex-1 px-4 py-2 text-sm font-medium rounded-md border transition-colors \".concat(tx.inputType==='units'?'bg-blue-50 border-blue-300 text-blue-700':'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(ArrowUpDown,{className:\"h-4 w-4 inline mr-2\"}),\"Units\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\".concat(tx.inputType,\"-\").concat(index),className:\"block text-sm font-medium text-gray-700\",children:tx.inputType==='amount'?'Amount (₹)':'Units'}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"\".concat(tx.inputType,\"-\").concat(index),name:tx.inputType,value:tx.inputType==='amount'?tx.amount:tx.units,onChange:e=>handleTransactionChange(index,tx.inputType,e.target.value),className:\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\",placeholder:tx.inputType==='amount'?'e.g., 5000':'e.g., 10.5',min:tx.inputType==='amount'?'0.01':'0.001',step:tx.inputType==='amount'?'0.01':'0.001',required:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-end\",children:transactions.length>1&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>removeTransactionField(index),className:\"text-red-600 hover:text-red-800 text-sm font-medium\",children:\"Remove Transaction\"})})]})]},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addTransactionField,className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\",children:\"Add Another Transaction\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",disabled:loading,children:loading?'Adding...':'Add Bulk Transactions'})]})]})]})})});};export default BulkTransactionForm;","map":{"version":3,"names":["React","useState","transactionAPI","Coins","ArrowUpDown","jsxs","_jsxs","jsx","_jsx","BulkTransactionForm","_ref","isOpen","fund","userId","onClose","onSuccess","transactions","setTransactions","date","transactionType","amount","units","inputType","loading","setLoading","error","setError","handleTransactionChange","index","field","value","newTransactions","addTransactionField","removeTransactionField","filter","_","i","handleInputTypeChange","validateForm","length","tx","concat","parseFloat","formatDateToDDMMYYYY","dateString","Date","day","String","getDate","padStart","month","getMonth","year","getFullYear","handleSubmit","e","preventDefault","transactionsToSend","map","fundId","schemeCode","fundName","schemeName","price","response","addBulkTransactions","success","data","message","err","_err$response","_err$response$data","getTodayDate","today","toISOString","split","className","children","onClick","role","onSubmit","htmlFor","type","id","name","onChange","target","max","required","placeholder","min","step","disabled"],"sources":["/Users/srejanbera/Workspace/Stonks/frontend/src/components/Dashboard/BulkTransactionForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { transactionAPI } from '../../services/api.js';\nimport { Coins, ArrowUpDown } from 'lucide-react';\n\nconst BulkTransactionForm = ({ isOpen, fund, userId, onClose, onSuccess }) => {\n  const [transactions, setTransactions] = useState([\n    { date: '', transactionType: 'BUY', amount: '', units: '', inputType: 'amount' }\n  ]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const handleTransactionChange = (index, field, value) => {\n    const newTransactions = [...transactions];\n    newTransactions[index][field] = value;\n    setTransactions(newTransactions);\n  };\n\n  const addTransactionField = () => {\n    setTransactions([...transactions, { date: '', transactionType: 'BUY', amount: '', units: '', inputType: 'amount' }]);\n  };\n\n  const removeTransactionField = (index) => {\n    const newTransactions = transactions.filter((_, i) => i !== index);\n    setTransactions(newTransactions);\n  };\n\n  const handleInputTypeChange = (index, inputType) => {\n    const newTransactions = [...transactions];\n    newTransactions[index].inputType = inputType;\n    newTransactions[index].amount = '';\n    newTransactions[index].units = '';\n    setTransactions(newTransactions);\n  };\n\n  const validateForm = () => {\n    setError(null);\n    for (let i = 0; i < transactions.length; i++) {\n      const tx = transactions[i];\n      if (!tx.date) {\n        setError(`Date is required for transaction ${i + 1}.`);\n        return false;\n      }\n      if (!tx.transactionType) {\n        setError(`Transaction type is required for transaction ${i + 1}.`);\n        return false;\n      }\n      \n      // Validate based on selected input type\n      if (tx.inputType === 'amount') {\n        if (!tx.amount || parseFloat(tx.amount) <= 0) {\n          setError(`Amount must be a positive number for transaction ${i + 1}.`);\n          return false;\n        }\n      } else {\n        if (!tx.units || parseFloat(tx.units) <= 0) {\n          setError(`Units must be a positive number for transaction ${i + 1}.`);\n          return false;\n        }\n      }\n    }\n    return true;\n  };\n\n  const formatDateToDDMMYYYY = (dateString) => {\n    // Convert YYYY-MM-DD to dd-MM-yyyy\n    const date = new Date(dateString);\n    const day = String(date.getDate()).padStart(2, '0');\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const year = date.getFullYear();\n    return `${day}-${month}-${year}`;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    const transactionsToSend = transactions.map(tx => ({\n      userId: userId,\n      fundId: fund.schemeCode,\n      fundName: fund.schemeName,\n      amount: tx.inputType === 'amount' && tx.amount ? parseFloat(tx.amount) : null,\n      units: tx.inputType === 'units' && tx.units ? parseFloat(tx.units) : null,\n      date: formatDateToDDMMYYYY(tx.date), // Convert to \"dd-MM-yyyy\" format\n      transactionType: tx.transactionType,\n      price: 0  // Backend will calculate\n    }));\n\n    try {\n      const response = await transactionAPI.addBulkTransactions(transactionsToSend);\n      if (response && response.success) {\n        onSuccess(response.data); // Pass the success message from backend\n        setTransactions([{ date: '', transactionType: 'BUY', amount: '', units: '', inputType: 'amount' }]); // Reset form\n        onClose();\n      } else {\n        setError(response.message || 'Failed to add bulk transactions.');\n      }\n    } catch (err) {\n      setError(err.response?.data?.message || err.message || 'An unexpected error occurred.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getTodayDate = () => {\n    const today = new Date();\n    return today.toISOString().split('T')[0];\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n        <div className=\"p-6\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-2xl font-bold text-gray-900\">\n              Add Bulk Transactions - {fund.schemeName}\n            </h2>\n            <button\n              onClick={onClose}\n              className=\"text-gray-500 hover:text-gray-700 text-2xl\"\n            >\n              &times;\n            </button>\n          </div>\n\n          {error && (\n            <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4\" role=\"alert\">\n              <strong className=\"font-bold\">Error!</strong>\n              <span className=\"block sm:inline\"> {error}</span>\n            </div>\n          )}\n\n          <form onSubmit={handleSubmit}>\n            <div className=\"space-y-6\">\n              {transactions.map((tx, index) => (\n                <div key={index} className=\"space-y-4 border-b pb-4 mb-4 last:border-b-0 last:pb-0 last:mb-0\">\n                  <div className=\"text-sm font-medium text-gray-700 mb-2\">\n                    Transaction {index + 1}\n                  </div>\n                  \n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {/* Date Field - First */}\n                    <div>\n                      <label htmlFor={`date-${index}`} className=\"block text-sm font-medium text-gray-700\">\n                        Date\n                      </label>\n                      <input\n                        type=\"date\"\n                        id={`date-${index}`}\n                        name=\"date\"\n                        value={tx.date}\n                        onChange={(e) => handleTransactionChange(index, 'date', e.target.value)}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        max={getTodayDate()}\n                        required\n                      />\n                    </div>\n\n                    {/* Transaction Type Field - Second */}\n                    <div>\n                      <label htmlFor={`type-${index}`} className=\"block text-sm font-medium text-gray-700\">\n                        Type\n                      </label>\n                      <select\n                        id={`type-${index}`}\n                        name=\"transactionType\"\n                        value={tx.transactionType}\n                        onChange={(e) => handleTransactionChange(index, 'transactionType', e.target.value)}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        required\n                      >\n                        <option value=\"BUY\">BUY</option>\n                        <option value=\"SELL\">SELL</option>\n                      </select>\n                    </div>\n                  </div>\n\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                    {/* Input Type Toggle */}\n                    <div className=\"md:col-span-2\">\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Specify by\n                      </label>\n                      <div className=\"flex space-x-2\">\n                        <button\n                          type=\"button\"\n                          onClick={() => handleInputTypeChange(index, 'amount')}\n                          className={`flex-1 px-4 py-2 text-sm font-medium rounded-md border transition-colors ${\n                            tx.inputType === 'amount'\n                              ? 'bg-blue-50 border-blue-300 text-blue-700'\n                              : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'\n                          }`}\n                        >\n                          <Coins className=\"h-4 w-4 inline mr-2\" />\n                          Amount (₹)\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={() => handleInputTypeChange(index, 'units')}\n                          className={`flex-1 px-4 py-2 text-sm font-medium rounded-md border transition-colors ${\n                            tx.inputType === 'units'\n                              ? 'bg-blue-50 border-blue-300 text-blue-700'\n                              : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'\n                          }`}\n                        >\n                          <ArrowUpDown className=\"h-4 w-4 inline mr-2\" />\n                          Units\n                        </button>\n                      </div>\n                    </div>\n\n                    {/* Dynamic Input Field */}\n                    <div>\n                      <label htmlFor={`${tx.inputType}-${index}`} className=\"block text-sm font-medium text-gray-700\">\n                        {tx.inputType === 'amount' ? 'Amount (₹)' : 'Units'}\n                      </label>\n                      <input\n                        type=\"number\"\n                        id={`${tx.inputType}-${index}`}\n                        name={tx.inputType}\n                        value={tx.inputType === 'amount' ? tx.amount : tx.units}\n                        onChange={(e) => handleTransactionChange(index, tx.inputType, e.target.value)}\n                        className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm\"\n                        placeholder={tx.inputType === 'amount' ? 'e.g., 5000' : 'e.g., 10.5'}\n                        min={tx.inputType === 'amount' ? '0.01' : '0.001'}\n                        step={tx.inputType === 'amount' ? '0.01' : '0.001'}\n                        required\n                      />\n                    </div>\n\n                    {/* Remove Button */}\n                    <div className=\"flex items-end\">\n                      {transactions.length > 1 && (\n                        <button\n                          type=\"button\"\n                          onClick={() => removeTransactionField(index)}\n                          className=\"text-red-600 hover:text-red-800 text-sm font-medium\"\n                        >\n                          Remove Transaction\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"mt-6 flex justify-between items-center\">\n              <button\n                type=\"button\"\n                onClick={addTransactionField}\n                className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-gray-600 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n              >\n                Add Another Transaction\n              </button>\n              <button\n                type=\"submit\"\n                className=\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n                disabled={loading}\n              >\n                {loading ? 'Adding...' : 'Add Bulk Transactions'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BulkTransactionForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}