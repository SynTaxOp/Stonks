{"ast":null,"code":"var _jsxFileName = \"/Users/srejanbera/Workspace/Stonks/frontend/src/components/Dashboard/FundSearch.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { Search, X } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FundSearch = ({\n  onSearch\n}) => {\n  _s();\n  const [searchText, setSearchText] = useState('');\n  const [isSearching, setIsSearching] = useState(false);\n  const [lastSearchedText, setLastSearchedText] = useState('');\n  const searchTimeoutRef = useRef(null);\n\n  // Only search when text has actually changed and user stops typing\n  const handleSearch = async text => {\n    if (text.trim() === lastSearchedText) {\n      return; // Don't search if text hasn't changed\n    }\n    if (text.trim().length < 2) {\n      setLastSearchedText('');\n      onSearch('');\n      return;\n    }\n    try {\n      setIsSearching(true);\n      await onSearch(text);\n      setLastSearchedText(text);\n    } catch (error) {\n      console.error('Search error:', error);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  // Debounced search - only search when text changes and user stops typing\n  const handleTextChange = value => {\n    setSearchText(value);\n    if (searchTimeoutRef.current) {\n      clearTimeout(searchTimeoutRef.current);\n    }\n    if (value.trim()) {\n      searchTimeoutRef.current = setTimeout(() => {\n        handleSearch(value);\n      }, 800); // Increased delay to 800ms for better UX\n    } else {\n      setLastSearchedText('');\n      onSearch('');\n    }\n  };\n  const handleClear = () => {\n    setSearchText('');\n    setLastSearchedText('');\n    onSearch('');\n    if (searchTimeoutRef.current) {\n      clearTimeout(searchTimeoutRef.current);\n    }\n  };\n\n  // Cleanup timeout on unmount\n  React.useEffect(() => {\n    return () => {\n      if (searchTimeoutRef.current) {\n        clearTimeout(searchTimeoutRef.current);\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n        children: /*#__PURE__*/_jsxDEV(Search, {\n          className: \"h-5 w-5 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: searchText,\n        onChange: e => handleTextChange(e.target.value),\n        placeholder: \"Search for mutual funds...\",\n        className: \"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 text-gray-900 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), searchText && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-y-0 right-0 pr-3 flex items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleClear,\n          className: \"text-gray-400 hover:text-gray-600 focus:outline-none\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), isSearching && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-y-0 right-0 pr-3 flex items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), searchText && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-2 text-sm text-gray-600\",\n      children: isSearching ? 'Searching...' : 'Type to search for mutual funds'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(FundSearch, \"2bVWoVlHXjOhpK3IXmkwlAQ4/9o=\");\n_c = FundSearch;\nexport default FundSearch;\nvar _c;\n$RefreshReg$(_c, \"FundSearch\");","map":{"version":3,"names":["React","useState","useRef","Search","X","jsxDEV","_jsxDEV","FundSearch","onSearch","_s","searchText","setSearchText","isSearching","setIsSearching","lastSearchedText","setLastSearchedText","searchTimeoutRef","handleSearch","text","trim","length","error","console","handleTextChange","value","current","clearTimeout","setTimeout","handleClear","useEffect","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","e","target","placeholder","onClick","_c","$RefreshReg$"],"sources":["/Users/srejanbera/Workspace/Stonks/frontend/src/components/Dashboard/FundSearch.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { Search, X } from 'lucide-react';\n\nconst FundSearch = ({ onSearch }) => {\n  const [searchText, setSearchText] = useState('');\n  const [isSearching, setIsSearching] = useState(false);\n  const [lastSearchedText, setLastSearchedText] = useState('');\n  const searchTimeoutRef = useRef(null);\n\n  // Only search when text has actually changed and user stops typing\n  const handleSearch = async (text) => {\n    if (text.trim() === lastSearchedText) {\n      return; // Don't search if text hasn't changed\n    }\n\n    if (text.trim().length < 2) {\n      setLastSearchedText('');\n      onSearch('');\n      return;\n    }\n\n    try {\n      setIsSearching(true);\n      await onSearch(text);\n      setLastSearchedText(text);\n    } catch (error) {\n      console.error('Search error:', error);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  // Debounced search - only search when text changes and user stops typing\n  const handleTextChange = (value) => {\n    setSearchText(value);\n    \n    if (searchTimeoutRef.current) {\n      clearTimeout(searchTimeoutRef.current);\n    }\n\n    if (value.trim()) {\n      searchTimeoutRef.current = setTimeout(() => {\n        handleSearch(value);\n      }, 800); // Increased delay to 800ms for better UX\n    } else {\n      setLastSearchedText('');\n      onSearch('');\n    }\n  };\n\n  const handleClear = () => {\n    setSearchText('');\n    setLastSearchedText('');\n    onSearch('');\n    if (searchTimeoutRef.current) {\n      clearTimeout(searchTimeoutRef.current);\n    }\n  };\n\n  // Cleanup timeout on unmount\n  React.useEffect(() => {\n    return () => {\n      if (searchTimeoutRef.current) {\n        clearTimeout(searchTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"relative\">\n      <div className=\"relative\">\n        <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n          <Search className=\"h-5 w-5 text-gray-400\" />\n        </div>\n        <input\n          type=\"text\"\n          value={searchText}\n          onChange={(e) => handleTextChange(e.target.value)}\n          placeholder=\"Search for mutual funds...\"\n          className=\"block w-full pl-10 pr-10 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 text-gray-900 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm\"\n        />\n        {searchText && (\n          <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center\">\n            <button\n              onClick={handleClear}\n              className=\"text-gray-400 hover:text-gray-600 focus:outline-none\"\n            >\n              <X className=\"h-5 w-5\" />\n            </button>\n          </div>\n        )}\n        {isSearching && (\n          <div className=\"absolute inset-y-0 right-0 pr-3 flex items-center\">\n            <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600\"></div>\n          </div>\n        )}\n      </div>\n      {searchText && (\n        <p className=\"mt-2 text-sm text-gray-600\">\n          {isSearching ? 'Searching...' : 'Type to search for mutual funds'}\n        </p>\n      )}\n    </div>\n  );\n};\n\nexport default FundSearch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}