{"ast":null,"code":"import _objectSpread from\"/Users/srejanbera/Workspace/Stonks/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{ArrowLeft,Calendar,Coins,ChevronUp,ChevronDown,X,CheckCircle,AlertCircle,RefreshCw,Zap}from'lucide-react';import{sipAPI,transactionAPI}from'../../services/api.js';import LoadingSpinner from'../common/LoadingSpinner.jsx';import ErrorMessage from'../common/ErrorMessage.jsx';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SIPTransactionsPage=_ref=>{let{userId,onBack,onSuccess}=_ref;// Get userId from URL parameters if not provided as prop\nconst getUserIdFromUrl=()=>{const urlParams=new URLSearchParams(window.location.search);return urlParams.get('userId');};const effectiveUserId=userId||getUserIdFromUrl();const[sips,setSips]=useState([]);const[sipTransactions,setSipTransactions]=useState([]);const[sipDate,setSipDate]=useState('');const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[submitting,setSubmitting]=useState(false);const[successMessage,setSuccessMessage]=useState('');useEffect(()=>{if(effectiveUserId){loadSIPs();}},[effectiveUserId]);const loadSIPs=async()=>{try{setLoading(true);setError(null);const response=await sipAPI.getAllSips(effectiveUserId);// The API service now returns the data directly after handling BaseResponse\nif(response){setSips(response||[]);// Initialize SIP transactions with default values\ninitializeSIPTransactions(response||[]);}else{setError('Failed to load SIPs');}}catch(err){console.error('Error loading SIPs:',err);setError('Failed to load SIPs. Please try again.');}finally{setLoading(false);}};const initializeSIPTransactions=sipsData=>{const today=new Date().toISOString().split('T')[0];const transactions=sipsData.map(sip=>({id:\"temp-\".concat(Date.now(),\"-\").concat(Math.random()),sipId:sip.id,fundName:sip.fundName,fundId:sip.fundId,amount:sip.amount,date:sipDate||today,originalAmount:sip.amount}));setSipTransactions(transactions);};const handleSIPDateChange=date=>{setSipDate(date);// Update all transaction dates\nsetSipTransactions(prev=>prev.map(transaction=>_objectSpread(_objectSpread({},transaction),{},{date:date})));};const handleAmountChange=(transactionId,amount)=>{setSipTransactions(prev=>prev.map(transaction=>transaction.id===transactionId?_objectSpread(_objectSpread({},transaction),{},{amount:parseFloat(amount)||0}):transaction));};const handleDateChange=(transactionId,date)=>{setSipTransactions(prev=>prev.map(transaction=>transaction.id===transactionId?_objectSpread(_objectSpread({},transaction),{},{date:date}):transaction));};const incrementDate=transactionId=>{setSipTransactions(prev=>prev.map(transaction=>{if(transaction.id===transactionId){const currentDate=new Date(transaction.date);currentDate.setDate(currentDate.getDate()+1);return _objectSpread(_objectSpread({},transaction),{},{date:currentDate.toISOString().split('T')[0]});}return transaction;}));};const decrementDate=transactionId=>{setSipTransactions(prev=>prev.map(transaction=>{if(transaction.id===transactionId){const currentDate=new Date(transaction.date);currentDate.setDate(currentDate.getDate()-1);return _objectSpread(_objectSpread({},transaction),{},{date:currentDate.toISOString().split('T')[0]});}return transaction;}));};const removeTransaction=transactionId=>{setSipTransactions(prev=>prev.filter(transaction=>transaction.id!==transactionId));};const validateTransactions=()=>{return sipTransactions.every(transaction=>transaction.fundName&&transaction.amount>0&&transaction.date);};const handleSubmit=async()=>{if(!validateTransactions()){setError('Please fill in all required fields for all transactions');return;}try{setSubmitting(true);setError(null);const bulkTransactions=sipTransactions.map(transaction=>({fundName:transaction.fundName,userId:effectiveUserId,fundId:transaction.fundId,amount:transaction.amount,date:formatDateForAPI(transaction.date),transactionType:'BUY'}));const response=await transactionAPI.addBulkTransactions(bulkTransactions);// The API service now returns the data directly after handling BaseResponse\nif(response){setSuccessMessage('SIP transactions registered successfully!');onSuccess('SIP transactions registered successfully!');setTimeout(()=>{onBack();},2000);}else{setError((response===null||response===void 0?void 0:response.message)||'Failed to register SIP transactions');}}catch(err){console.error('Error submitting SIP transactions:',err);setError('Failed to register SIP transactions. Please try again.');}finally{setSubmitting(false);}};const formatDateForAPI=dateString=>{const date=new Date(dateString);const day=String(date.getDate()).padStart(2,'0');const month=String(date.getMonth()+1).padStart(2,'0');const year=date.getFullYear();return\"\".concat(day,\"-\").concat(month,\"-\").concat(year);};const formatCurrency=amount=>{return new Intl.NumberFormat('en-IN',{style:'currency',currency:'INR',minimumFractionDigits:2}).format(amount||0);};if(!effectiveUserId){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-red-50 via-white to-pink-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6\",children:/*#__PURE__*/_jsx(AlertCircle,{className:\"w-10 h-10 text-red-500\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:\"Invalid Access\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-6\",children:\"User ID is required to access SIP Transactions\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"px-6 py-3 bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-lg hover:from-red-700 hover:to-pink-700 transition-all duration-300 transform hover:scale-105\",children:\"Close\"})]})});}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(LoadingSpinner,{}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Loading SIPs...\"})]})});}if(error&&!sips.length){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(ErrorMessage,{message:error,onClose:()=>setError(null)}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"mt-4 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-300 transform hover:scale-105\",children:\"Go Back\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-lg border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between h-20\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"p-3 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-300 hover:scale-105\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl\",children:/*#__PURE__*/_jsx(Zap,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent\",children:\"Register SIP Transactions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Process your SIP investments for a specific date\"})]})]})]})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 text-white\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-green-800\",children:successMessage})})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-xl shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(AlertCircle,{className:\"h-5 w-5 text-white\"})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-red-800\",children:error})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-4\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-6 h-6 mr-3 text-green-600\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900\",children:\"SIP Date\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Select the date for SIP transactions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:sipDate,onChange:e=>handleSIPDateChange(e.target.value),className:\"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-lg\",required:true})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-gray-500\",children:\"This date will be applied to all SIP transactions by default\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(Zap,{className:\"h-6 w-6 mr-3 text-green-600\"}),\"SIP Transactions\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:[sipTransactions.length,\" transaction\",sipTransactions.length!==1?'s':'',\" ready to process\"]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-hidden\",children:sipTransactions.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-gradient-to-br from-green-100 to-emerald-100 rounded-full flex items-center justify-center mx-auto mb-6\",children:/*#__PURE__*/_jsx(Zap,{className:\"w-10 h-10 text-green-500\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 font-medium\",children:\"No SIP transactions to process\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-2\",children:\"Add transactions or check your SIPs\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-gray-200\",children:sipTransactions.map((transaction,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"p-6 hover:bg-gray-50 transition-colors duration-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-4 gap-6 items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-12 w-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600 font-bold text-lg\",children:transaction.fundName.charAt(0).toUpperCase()})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 min-w-0 flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900 break-words\",children:transaction.fundName||'Fund Name'}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500\",children:[\"Transaction #\",index+1]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Amount (\\u20B9)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(Coins,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:transaction.amount,onChange:e=>handleAmountChange(transaction.id,e.target.value),step:\"0.01\",min:\"0\",className:\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\",placeholder:\"Enter amount\"})]}),transaction.originalAmount&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Original: \",formatCurrency(transaction.originalAmount)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-1\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Transaction Date\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>decrementDate(transaction.id),className:\"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors duration-200\",children:/*#__PURE__*/_jsx(ChevronDown,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:transaction.date,onChange:e=>handleDateChange(transaction.id,e.target.value),className:\"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>incrementDate(transaction.id),className:\"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors duration-200\",children:/*#__PURE__*/_jsx(ChevronUp,{className:\"h-4 w-4\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"lg:col-span-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeTransaction(transaction.id),className:\"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors duration-200\",title:\"Remove transaction\",children:/*#__PURE__*/_jsx(X,{className:\"h-5 w-5\"})})})})]})},transaction.id))})})]}),sipTransactions.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-8 flex justify-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,disabled:submitting||!validateTransactions(),className:\"flex items-center px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:from-green-700 hover:to-emerald-700 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-lg font-semibold\",children:submitting?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"h-5 w-5 mr-2 animate-spin\"}),\"Processing Transactions...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"h-5 w-5 mr-2\"}),\"Submit SIP Transactions\"]})})})]})]});};export default SIPTransactionsPage;","map":{"version":3,"names":["React","useState","useEffect","ArrowLeft","Calendar","Coins","ChevronUp","ChevronDown","X","CheckCircle","AlertCircle","RefreshCw","Zap","sipAPI","transactionAPI","LoadingSpinner","ErrorMessage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SIPTransactionsPage","_ref","userId","onBack","onSuccess","getUserIdFromUrl","urlParams","URLSearchParams","window","location","search","get","effectiveUserId","sips","setSips","sipTransactions","setSipTransactions","sipDate","setSipDate","loading","setLoading","error","setError","submitting","setSubmitting","successMessage","setSuccessMessage","loadSIPs","response","getAllSips","initializeSIPTransactions","err","console","sipsData","today","Date","toISOString","split","transactions","map","sip","id","concat","now","Math","random","sipId","fundName","fundId","amount","date","originalAmount","handleSIPDateChange","prev","transaction","_objectSpread","handleAmountChange","transactionId","parseFloat","handleDateChange","incrementDate","currentDate","setDate","getDate","decrementDate","removeTransaction","filter","validateTransactions","every","handleSubmit","bulkTransactions","formatDateForAPI","transactionType","addBulkTransactions","setTimeout","message","dateString","day","String","padStart","month","getMonth","year","getFullYear","formatCurrency","Intl","NumberFormat","style","currency","minimumFractionDigits","format","className","children","onClick","length","onClose","type","value","onChange","e","target","required","index","charAt","toUpperCase","step","min","placeholder","title","disabled"],"sources":["/Users/srejanbera/Workspace/Stonks/frontend/src/components/Dashboard/SIPTransactionsPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  ArrowLeft, \n  Calendar, \n  Coins, \n  ChevronUp, \n  ChevronDown, \n  X, \n  CheckCircle,\n  AlertCircle,\n  RefreshCw,\n  Zap\n} from 'lucide-react';\nimport { sipAPI, transactionAPI } from '../../services/api.js';\nimport LoadingSpinner from '../common/LoadingSpinner.jsx';\nimport ErrorMessage from '../common/ErrorMessage.jsx';\n\nconst SIPTransactionsPage = ({ userId, onBack, onSuccess }) => {\n  // Get userId from URL parameters if not provided as prop\n  const getUserIdFromUrl = () => {\n    const urlParams = new URLSearchParams(window.location.search);\n    return urlParams.get('userId');\n  };\n\n  const effectiveUserId = userId || getUserIdFromUrl();\n  const [sips, setSips] = useState([]);\n  const [sipTransactions, setSipTransactions] = useState([]);\n  const [sipDate, setSipDate] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [submitting, setSubmitting] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n\n  useEffect(() => {\n    if (effectiveUserId) {\n      loadSIPs();\n    }\n  }, [effectiveUserId]);\n\n  const loadSIPs = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await sipAPI.getAllSips(effectiveUserId);\n      // The API service now returns the data directly after handling BaseResponse\n      if (response) {\n        setSips(response || []);\n        // Initialize SIP transactions with default values\n        initializeSIPTransactions(response || []);\n      } else {\n        setError('Failed to load SIPs');\n      }\n    } catch (err) {\n      console.error('Error loading SIPs:', err);\n      setError('Failed to load SIPs. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const initializeSIPTransactions = (sipsData) => {\n    const today = new Date().toISOString().split('T')[0];\n    const transactions = sipsData.map(sip => ({\n      id: `temp-${Date.now()}-${Math.random()}`,\n      sipId: sip.id,\n      fundName: sip.fundName,\n      fundId: sip.fundId,\n      amount: sip.amount,\n      date: sipDate || today,\n      originalAmount: sip.amount\n    }));\n    setSipTransactions(transactions);\n  };\n\n  const handleSIPDateChange = (date) => {\n    setSipDate(date);\n    // Update all transaction dates\n    setSipTransactions(prev => \n      prev.map(transaction => ({\n        ...transaction,\n        date: date\n      }))\n    );\n  };\n\n  const handleAmountChange = (transactionId, amount) => {\n    setSipTransactions(prev =>\n      prev.map(transaction =>\n        transaction.id === transactionId\n          ? { ...transaction, amount: parseFloat(amount) || 0 }\n          : transaction\n      )\n    );\n  };\n\n  const handleDateChange = (transactionId, date) => {\n    setSipTransactions(prev =>\n      prev.map(transaction =>\n        transaction.id === transactionId\n          ? { ...transaction, date: date }\n          : transaction\n      )\n    );\n  };\n\n  const incrementDate = (transactionId) => {\n    setSipTransactions(prev =>\n      prev.map(transaction => {\n        if (transaction.id === transactionId) {\n          const currentDate = new Date(transaction.date);\n          currentDate.setDate(currentDate.getDate() + 1);\n          return { ...transaction, date: currentDate.toISOString().split('T')[0] };\n        }\n        return transaction;\n      })\n    );\n  };\n\n  const decrementDate = (transactionId) => {\n    setSipTransactions(prev =>\n      prev.map(transaction => {\n        if (transaction.id === transactionId) {\n          const currentDate = new Date(transaction.date);\n          currentDate.setDate(currentDate.getDate() - 1);\n          return { ...transaction, date: currentDate.toISOString().split('T')[0] };\n        }\n        return transaction;\n      })\n    );\n  };\n\n  const removeTransaction = (transactionId) => {\n    setSipTransactions(prev => prev.filter(transaction => transaction.id !== transactionId));\n  };\n\n\n  const validateTransactions = () => {\n    return sipTransactions.every(transaction => \n      transaction.fundName && \n      transaction.amount > 0 && \n      transaction.date\n    );\n  };\n\n  const handleSubmit = async () => {\n    if (!validateTransactions()) {\n      setError('Please fill in all required fields for all transactions');\n      return;\n    }\n\n    try {\n      setSubmitting(true);\n      setError(null);\n\n      const bulkTransactions = sipTransactions.map(transaction => ({\n        fundName: transaction.fundName,\n        userId: effectiveUserId,\n        fundId: transaction.fundId,\n        amount: transaction.amount,\n        date: formatDateForAPI(transaction.date),\n        transactionType: 'BUY'\n      }));\n\n      const response = await transactionAPI.addBulkTransactions(bulkTransactions);\n      \n      // The API service now returns the data directly after handling BaseResponse\n      if (response) {\n        setSuccessMessage('SIP transactions registered successfully!');\n        onSuccess('SIP transactions registered successfully!');\n        setTimeout(() => {\n          onBack();\n        }, 2000);\n      } else {\n        setError(response?.message || 'Failed to register SIP transactions');\n      }\n    } catch (err) {\n      console.error('Error submitting SIP transactions:', err);\n      setError('Failed to register SIP transactions. Please try again.');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const formatDateForAPI = (dateString) => {\n    const date = new Date(dateString);\n    const day = String(date.getDate()).padStart(2, '0');\n    const month = String(date.getMonth() + 1).padStart(2, '0');\n    const year = date.getFullYear();\n    return `${day}-${month}-${year}`;\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      minimumFractionDigits: 2,\n    }).format(amount || 0);\n  };\n\n  if (!effectiveUserId) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-red-50 via-white to-pink-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n            <AlertCircle className=\"w-10 h-10 text-red-500\" />\n          </div>\n          <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">Invalid Access</h3>\n          <p className=\"text-gray-500 mb-6\">User ID is required to access SIP Transactions</p>\n          <button\n            onClick={onBack}\n            className=\"px-6 py-3 bg-gradient-to-r from-red-600 to-pink-600 text-white rounded-lg hover:from-red-700 hover:to-pink-700 transition-all duration-300 transform hover:scale-105\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <LoadingSpinner />\n          <p className=\"mt-4 text-gray-600\">Loading SIPs...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error && !sips.length) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <ErrorMessage message={error} onClose={() => setError(null)} />\n          <button\n            onClick={onBack}\n            className=\"mt-4 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-300 transform hover:scale-105\"\n          >\n            Go Back\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow-lg border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-20\">\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={onBack}\n                className=\"p-3 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-300 hover:scale-105\"\n              >\n                <ArrowLeft className=\"h-6 w-6\" />\n              </button>\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"p-3 bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl\">\n                  <Zap className=\"h-6 w-6 text-white\" />\n                </div>\n                <div>\n                  <h1 className=\"text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent\">\n                    Register SIP Transactions\n                  </h1>\n                  <p className=\"text-sm text-gray-600\">Process your SIP investments for a specific date</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Success Message */}\n        {successMessage && (\n          <div className=\"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl shadow-sm\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center\">\n                  <CheckCircle className=\"h-5 w-5 text-white\" />\n                </div>\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-green-800\">{successMessage}</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Error Message */}\n        {error && (\n          <div className=\"mb-6 p-4 bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-xl shadow-sm\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center\">\n                  <AlertCircle className=\"h-5 w-5 text-white\" />\n                </div>\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-red-800\">{error}</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* SIP Date Selection */}\n        <div className=\"bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-8\">\n          <div className=\"flex items-center mb-4\">\n            <Calendar className=\"w-6 h-6 mr-3 text-green-600\" />\n            <h3 className=\"text-xl font-bold text-gray-900\">SIP Date</h3>\n          </div>\n          <div className=\"max-w-md\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Select the date for SIP transactions\n            </label>\n            <div className=\"relative\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <Calendar className=\"h-5 w-5 text-gray-400\" />\n              </div>\n              <input\n                type=\"date\"\n                value={sipDate}\n                onChange={(e) => handleSIPDateChange(e.target.value)}\n                className=\"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-lg\"\n                required\n              />\n            </div>\n            <p className=\"mt-2 text-sm text-gray-500\">\n              This date will be applied to all SIP transactions by default\n            </p>\n          </div>\n        </div>\n\n        {/* SIP Transactions List */}\n        <div className=\"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden\">\n          <div className=\"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-green-50 to-emerald-50\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h3 className=\"text-xl font-bold text-gray-900 flex items-center\">\n                  <Zap className=\"h-6 w-6 mr-3 text-green-600\" />\n                  SIP Transactions\n                </h3>\n                <p className=\"text-sm text-gray-500 mt-1\">\n                  {sipTransactions.length} transaction{sipTransactions.length !== 1 ? 's' : ''} ready to process\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"overflow-hidden\">\n            {sipTransactions.length === 0 ? (\n              <div className=\"text-center py-16\">\n                <div className=\"w-20 h-20 bg-gradient-to-br from-green-100 to-emerald-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n                  <Zap className=\"w-10 h-10 text-green-500\" />\n                </div>\n                <p className=\"text-gray-500 font-medium\">No SIP transactions to process</p>\n                <p className=\"text-sm text-gray-400 mt-2\">Add transactions or check your SIPs</p>\n              </div>\n            ) : (\n              <div className=\"divide-y divide-gray-200\">\n                {sipTransactions.map((transaction, index) => (\n                  <div key={transaction.id} className=\"p-6 hover:bg-gray-50 transition-colors duration-200\">\n                    <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6 items-center\">\n                      {/* Fund Name */}\n                      <div className=\"lg:col-span-1\">\n                        <div className=\"flex items-center\">\n                          <div className=\"flex-shrink-0 h-12 w-12\">\n                            <div className=\"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center\">\n                              <span className=\"text-green-600 font-bold text-lg\">\n                                {transaction.fundName.charAt(0).toUpperCase()}\n                              </span>\n                            </div>\n                          </div>\n                          <div className=\"ml-4 min-w-0 flex-1\">\n                            <div className=\"text-sm font-medium text-gray-900 break-words\">\n                              {transaction.fundName || 'Fund Name'}\n                            </div>\n                            <div className=\"text-xs text-gray-500\">\n                              Transaction #{index + 1}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n\n                      {/* Amount */}\n                      <div className=\"lg:col-span-1\">\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Amount (â‚¹)\n                        </label>\n                        <div className=\"relative\">\n                          <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                            <Coins className=\"h-5 w-5 text-gray-400\" />\n                          </div>\n                          <input\n                            type=\"number\"\n                            value={transaction.amount}\n                            onChange={(e) => handleAmountChange(transaction.id, e.target.value)}\n                            step=\"0.01\"\n                            min=\"0\"\n                            className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n                            placeholder=\"Enter amount\"\n                          />\n                        </div>\n                        {transaction.originalAmount && (\n                          <p className=\"text-xs text-gray-500 mt-1\">\n                            Original: {formatCurrency(transaction.originalAmount)}\n                          </p>\n                        )}\n                      </div>\n\n                      {/* Date */}\n                      <div className=\"lg:col-span-1\">\n                        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                          Transaction Date\n                        </label>\n                        <div className=\"flex items-center space-x-2\">\n                          <button\n                            onClick={() => decrementDate(transaction.id)}\n                            className=\"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors duration-200\"\n                          >\n                            <ChevronDown className=\"h-4 w-4\" />\n                          </button>\n                          <div className=\"flex-1\">\n                            <input\n                              type=\"date\"\n                              value={transaction.date}\n                              onChange={(e) => handleDateChange(transaction.id, e.target.value)}\n                              className=\"block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm\"\n                            />\n                          </div>\n                          <button\n                            onClick={() => incrementDate(transaction.id)}\n                            className=\"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded transition-colors duration-200\"\n                          >\n                            <ChevronUp className=\"h-4 w-4\" />\n                          </button>\n                        </div>\n                      </div>\n\n                      {/* Actions */}\n                      <div className=\"lg:col-span-1\">\n                        <div className=\"flex items-center justify-end\">\n                          <button\n                            onClick={() => removeTransaction(transaction.id)}\n                            className=\"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-lg transition-colors duration-200\"\n                            title=\"Remove transaction\"\n                          >\n                            <X className=\"h-5 w-5\" />\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Submit Button */}\n        {sipTransactions.length > 0 && (\n          <div className=\"mt-8 flex justify-center\">\n            <button\n              onClick={handleSubmit}\n              disabled={submitting || !validateTransactions()}\n              className=\"flex items-center px-8 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-xl hover:from-green-700 hover:to-emerald-700 transition-all duration-300 transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-lg font-semibold\"\n            >\n              {submitting ? (\n                <>\n                  <RefreshCw className=\"h-5 w-5 mr-2 animate-spin\" />\n                  Processing Transactions...\n                </>\n              ) : (\n                <>\n                  <CheckCircle className=\"h-5 w-5 mr-2\" />\n                  Submit SIP Transactions\n                </>\n              )}\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SIPTransactionsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}