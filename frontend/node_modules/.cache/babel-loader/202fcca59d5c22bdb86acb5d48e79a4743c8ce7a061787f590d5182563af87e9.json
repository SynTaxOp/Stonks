{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{ArrowLeft,Plus,Calendar,TrendingUp,Coins,PieChart,Layers,Shield,Activity,BarChart3,Zap,RefreshCw}from'lucide-react';import{userFundAPI,transactionAPI}from'../../services/api.js';import LoadingSpinner from'../common/LoadingSpinner.jsx';import ErrorMessage from'../common/ErrorMessage.jsx';import ConfirmationDialog from'../common/ConfirmationDialog.jsx';import TransactionForm from'./TransactionForm.jsx';import SIPForm from'./SIPForm.jsx';import BulkTransactionForm from'./BulkTransactionForm.jsx';import UnitsRow from'../common/UnitsRow.jsx';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const UserFundDetail=_ref=>{var _transactionToDelete$;let{fund,userId,onBack,onRecordTransaction,onRegisterSIP}=_ref;const[fundDetails,setFundDetails]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[showTransactionForm,setShowTransactionForm]=useState(false);const[showBulkTransactionForm,setShowBulkTransactionForm]=useState(false);const[showSIPForm,setShowSIPForm]=useState(false);const[successMessage,setSuccessMessage]=useState('');const[refreshing,setRefreshing]=useState(false);const[showDeleteDialog,setShowDeleteDialog]=useState(false);const[transactionToDelete,setTransactionToDelete]=useState(null);const[isDeleting,setIsDeleting]=useState(false);const loadFundDetails=useCallback(async()=>{try{setLoading(true);setError(null);const response=await userFundAPI.getUserFundDetails(userId,fund.schemeCode);console.log('Fund Details Response:',response);if(response){setFundDetails(response);}else{setError('Failed to load fund details');}}catch(err){console.error('Error loading fund details:',err);setError('Failed to load fund details. Please try again.');}finally{setLoading(false);}},[userId,fund.schemeCode]);useEffect(()=>{if(fund&&userId){loadFundDetails();}},[fund,userId,loadFundDetails]);const handleRefresh=async()=>{setRefreshing(true);await loadFundDetails();setRefreshing(false);};const formatCurrency=amount=>{return new Intl.NumberFormat('en-IN',{style:'currency',currency:'INR',minimumFractionDigits:2}).format(amount||0);};const formatDate=dateString=>{if(!dateString)return'Invalid Date';try{// Handle string format \"dd-MM-yyyy\"\nif(typeof dateString==='string'){// Parse the dd-MM-yyyy format\nconst parts=dateString.split('-');if(parts.length===3){const day=parts[0];const month=parts[1];const year=parts[2];// Create date object (month is 0-indexed in JavaScript)\nconst date=new Date(year,month-1,day);// Check if date is valid\nif(isNaN(date.getTime())){return'Invalid Date';}return date.toLocaleDateString('en-IN',{year:'numeric',month:'short',day:'numeric'});}}// Fallback for timestamp format (if needed)\nlet date;if(typeof dateString==='number'){if(dateString>10000000000){// Timestamp is in milliseconds\ndate=new Date(dateString);}else{// Timestamp is in seconds\ndate=new Date(dateString*1000);}}else{date=new Date(dateString);}// Check if date is valid\nif(isNaN(date.getTime())){return'Invalid Date';}return date.toLocaleDateString('en-IN',{year:'numeric',month:'short',day:'numeric'});}catch(error){console.error('Error formatting date:',error);return'Invalid Date';}};const formatPercentage=value=>{if(value==null||isNaN(value)){return'N/A';}return\"\".concat(value.toFixed(2),\"%\");};const handleSuccess=message=>{setSuccessMessage(message);// Reload fund details to show updated data\nloadFundDetails();// Clear success message after 3 seconds\nsetTimeout(()=>setSuccessMessage(''),3000);};const handleDeleteTransaction=unit=>{if(!unit.transactionId){setError('Cannot delete transaction: No transaction ID found');return;}setTransactionToDelete(unit);setShowDeleteDialog(true);};const confirmDeleteTransaction=async()=>{if(!transactionToDelete)return;try{setIsDeleting(true);setError(null);await transactionAPI.deleteTransaction(transactionToDelete.transactionId);setSuccessMessage('Transaction deleted successfully');// Reload fund details to show updated data\nawait loadFundDetails();// Clear success message after 5 seconds\nsetTimeout(()=>setSuccessMessage(''),5000);}catch(err){console.error('Error deleting transaction:',err);setError(\"Failed to delete transaction: \".concat(err.message||'Please try again.'));}finally{setIsDeleting(false);setShowDeleteDialog(false);setTransactionToDelete(null);}};const cancelDeleteTransaction=()=>{setShowDeleteDialog(false);setTransactionToDelete(null);setIsDeleting(false);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(LoadingSpinner,{}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600\",children:\"Loading fund details...\"})]})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(ErrorMessage,{message:error,onClose:()=>setError(null)}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"mt-4 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105\",children:\"Go Back\"})]})});}if(!fundDetails){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-xl shadow-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(PieChart,{className:\"w-8 h-8 text-gray-400\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500 text-lg mb-4\",children:\"No fund details found\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105\",children:\"Go Back\"})]})})});}const{userFundDTO,summary,units,registeredSIPs}=fundDetails;return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-lg border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"p-3 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-300 hover:scale-105\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-6 w-6\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl\",children:/*#__PURE__*/_jsx(PieChart,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\",children:fund.schemeName}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[fundDetails!==null&&fundDetails!==void 0&&fundDetails.latestNav?/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-md text-sm font-semibold bg-blue-50 text-blue-700 border border-blue-200\",children:[\"Latest NAV: \\u20B9\",fundDetails.latestNav.toFixed(2)]}):/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-md text-sm font-semibold bg-gray-50 text-gray-600 border border-gray-200\",children:\"NAV: N/A\"}),(fundDetails===null||fundDetails===void 0?void 0:fundDetails.latestNavDate)&&/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-md text-sm font-semibold bg-green-50 text-green-700 border border-green-200\",children:formatDate(fundDetails.latestNavDate)})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleRefresh,disabled:refreshing,className:\"flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-300 transform hover:scale-105 disabled:opacity-50\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"h-4 w-4 mr-2 \".concat(refreshing?'animate-spin':'')}),refreshing?'Refreshing...':'Refresh']}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowTransactionForm(true),className:\"flex items-center px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-300 transform hover:scale-105\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Record Transaction\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowBulkTransactionForm(true),className:\"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all duration-300 transform hover:scale-105\",children:[/*#__PURE__*/_jsx(Layers,{className:\"h-4 w-4 mr-2\"}),\"Bulk Transactions\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowSIPForm(true),className:\"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"h-4 w-4 mr-2\"}),\"Register SIP\"]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl shadow-sm animate-fade-in\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-white\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\",clipRule:\"evenodd\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-green-800\",children:successMessage})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSuccessMessage(''),className:\"text-green-400 hover:text-green-600 focus:outline-none\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",clipRule:\"evenodd\"})})})})]})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6 p-4 bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-xl shadow-sm animate-fade-in\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5 text-white\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",clipRule:\"evenodd\"})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-red-800\",children:error})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-auto\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(null),className:\"text-red-400 hover:text-red-600 focus:outline-none\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"h-5 w-5\",viewBox:\"0 0 20 20\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",clipRule:\"evenodd\"})})})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 hover:scale-105 group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl group-hover:scale-110 transition-transform duration-300\",children:/*#__PURE__*/_jsx(Coins,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600 mb-1\",children:\"Total Invested\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:formatCurrency(summary===null||summary===void 0?void 0:summary.totalInvested)})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 hover:scale-105 group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-r from-green-500 to-green-600 rounded-xl group-hover:scale-110 transition-transform duration-300\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600 mb-1\",children:\"Current Value\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:formatCurrency(summary===null||summary===void 0?void 0:summary.totalValue)})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 hover:scale-105 group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-xl group-hover:scale-110 transition-transform duration-300 \".concat(((summary===null||summary===void 0?void 0:summary.profitLoss)||0)>=0?'bg-gradient-to-r from-green-500 to-green-600':'bg-gradient-to-r from-red-500 to-red-600'),children:/*#__PURE__*/_jsx(PieChart,{className:\"h-6 w-6 \".concat(((summary===null||summary===void 0?void 0:summary.profitLoss)||0)>=0?'text-white':'text-white')})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600 mb-1\",children:\"Profit/Loss\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold \".concat(((summary===null||summary===void 0?void 0:summary.profitLoss)||0)>=0?'text-green-600':'text-red-600'),children:formatCurrency(summary===null||summary===void 0?void 0:summary.profitLoss)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium \".concat(((summary===null||summary===void 0?void 0:summary.profitLossPercent)||0)>=0?'text-green-600':'text-red-600'),children:formatPercentage(summary===null||summary===void 0?void 0:summary.profitLossPercent)})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 hover:scale-105 group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl group-hover:scale-110 transition-transform duration-300\",children:/*#__PURE__*/_jsx(Activity,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600 mb-1\",children:\"XIRR\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-purple-600\",children:formatPercentage(summary===null||summary===void 0?void 0:summary.xirr)})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 hover:scale-105 group\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gradient-to-r from-violet-500 to-violet-600 rounded-xl group-hover:scale-110 transition-transform duration-300\",children:/*#__PURE__*/_jsx(TrendingUp,{className:\"h-6 w-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600 mb-1\",children:\"Long Term Gains\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-violet-600\",children:formatCurrency(summary===null||summary===void 0?void 0:summary.longTermGains)})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(BarChart3,{className:\"w-6 h-6 mr-3 text-blue-600\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900\",children:\"Fund Information\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 font-medium\",children:\"Fund Name:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:userFundDTO===null||userFundDTO===void 0?void 0:userFundDTO.fundName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 font-medium\",children:\"Tag:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:(userFundDTO===null||userFundDTO===void 0?void 0:userFundDTO.tag)||'No tag'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 font-medium\",children:\"Emergency Fund:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold flex items-center \".concat(userFundDTO!==null&&userFundDTO!==void 0&&userFundDTO.isEmergency?'text-red-600':'text-green-600'),children:userFundDTO!==null&&userFundDTO!==void 0&&userFundDTO.isEmergency?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Shield,{className:\"w-4 h-4 mr-1\"}),\"Yes\"]}):'No'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 font-medium\",children:\"Total Units:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-gray-900\",children:(summary===null||summary===void 0?void 0:summary.totalUnits)!=null?summary.totalUnits.toFixed(4):'0.0000'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-xl shadow-lg border border-gray-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-6 h-6 mr-3 text-purple-600\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-gray-900\",children:\"Registered SIPs\"})]}),registeredSIPs&&registeredSIPs.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:registeredSIPs.map((sip,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg hover:shadow-md transition-all duration-300\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-gray-900\",children:sip.fundName}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 flex items-center\",children:[/*#__PURE__*/_jsx(Zap,{className:\"w-3 h-3 mr-1 text-yellow-500\"}),\"Monthly SIP\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-gray-900\",children:formatCurrency(sip.amount)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"per month\"})]})]},sip.id||index))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gradient-to-br from-purple-100 to-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(Calendar,{className:\"h-8 w-8 text-purple-500\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 font-medium\",children:\"No SIPs registered\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-2\",children:\"Click \\\"Register SIP\\\" to set up a new SIP\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(PieChart,{className:\"h-6 w-6 mr-3 text-blue-600\"}),\"Units History\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 text-xs text-gray-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-green-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Active BUY\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 text-xs text-gray-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-gray-500 rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Sold BUY\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 text-xs text-gray-600\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 bg-red-500 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{children:\"SELL\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:units&&units.length>0?/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Transaction Type\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Amount\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Units\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"P&L\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"P&L %\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:units.map((unit,index)=>/*#__PURE__*/_jsx(UnitsRow,{unit:unit,index:index,formatCurrency:formatCurrency,formatDate:formatDate,formatPercentage:formatPercentage,onDelete:handleDeleteTransaction},index))})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-16\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-6\",children:/*#__PURE__*/_jsx(PieChart,{className:\"w-10 h-10 text-blue-500\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 font-medium\",children:\"No units history available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-400 mt-2\",children:\"Record transactions to see units history\"})]})})]})]}),/*#__PURE__*/_jsx(TransactionForm,{isOpen:showTransactionForm,onClose:()=>setShowTransactionForm(false),fund:fund,userId:userId,onSuccess:handleSuccess}),/*#__PURE__*/_jsx(BulkTransactionForm,{isOpen:showBulkTransactionForm,onClose:()=>setShowBulkTransactionForm(false),fund:fund,userId:userId,onSuccess:handleSuccess}),/*#__PURE__*/_jsx(SIPForm,{isOpen:showSIPForm,onClose:()=>setShowSIPForm(false),fund:fund,userId:userId,onSuccess:handleSuccess}),/*#__PURE__*/_jsx(ConfirmationDialog,{isOpen:showDeleteDialog,onClose:cancelDeleteTransaction,onConfirm:confirmDeleteTransaction,title:\"Delete Transaction\",message:transactionToDelete?\"Are you sure you want to delete this transaction?\\n\\nDate: \".concat(formatDate(transactionToDelete.date),\"\\nAmount: \").concat(formatCurrency(transactionToDelete.amount),\"\\nUnits: \").concat(((_transactionToDelete$=transactionToDelete.units)===null||_transactionToDelete$===void 0?void 0:_transactionToDelete$.toFixed(4))||'0.0000',\"\\n\\nThis action cannot be undone.\"):'Are you sure you want to delete this transaction?',confirmText:\"Delete Transaction\",cancelText:\"Cancel\",isLoading:isDeleting,isDestructive:true})]});};export default UserFundDetail;","map":{"version":3,"names":["React","useState","useEffect","useCallback","ArrowLeft","Plus","Calendar","TrendingUp","Coins","PieChart","Layers","Shield","Activity","BarChart3","Zap","RefreshCw","userFundAPI","transactionAPI","LoadingSpinner","ErrorMessage","ConfirmationDialog","TransactionForm","SIPForm","BulkTransactionForm","UnitsRow","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserFundDetail","_ref","_transactionToDelete$","fund","userId","onBack","onRecordTransaction","onRegisterSIP","fundDetails","setFundDetails","loading","setLoading","error","setError","showTransactionForm","setShowTransactionForm","showBulkTransactionForm","setShowBulkTransactionForm","showSIPForm","setShowSIPForm","successMessage","setSuccessMessage","refreshing","setRefreshing","showDeleteDialog","setShowDeleteDialog","transactionToDelete","setTransactionToDelete","isDeleting","setIsDeleting","loadFundDetails","response","getUserFundDetails","schemeCode","console","log","err","handleRefresh","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","format","formatDate","dateString","parts","split","length","day","month","year","date","Date","isNaN","getTime","toLocaleDateString","formatPercentage","value","concat","toFixed","handleSuccess","message","setTimeout","handleDeleteTransaction","unit","transactionId","confirmDeleteTransaction","deleteTransaction","cancelDeleteTransaction","className","children","onClose","onClick","userFundDTO","summary","units","registeredSIPs","schemeName","latestNav","latestNavDate","disabled","viewBox","fill","fillRule","d","clipRule","totalInvested","totalValue","profitLoss","profitLossPercent","xirr","longTermGains","fundName","tag","isEmergency","totalUnits","map","sip","index","id","onDelete","isOpen","onSuccess","onConfirm","title","confirmText","cancelText","isLoading","isDestructive"],"sources":["/Users/srejanbera/Workspace/Stonks/frontend/src/components/Dashboard/UserFundDetail.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { \n  ArrowLeft, \n  Plus, \n  Calendar, \n  TrendingUp, \n  Coins, \n  PieChart, \n  Layers,\n  Shield,\n  Activity,\n  BarChart3,\n  Zap,\n  RefreshCw\n} from 'lucide-react';\nimport { userFundAPI, transactionAPI } from '../../services/api.js';\nimport LoadingSpinner from '../common/LoadingSpinner.jsx';\nimport ErrorMessage from '../common/ErrorMessage.jsx';\nimport ConfirmationDialog from '../common/ConfirmationDialog.jsx';\nimport TransactionForm from './TransactionForm.jsx';\nimport SIPForm from './SIPForm.jsx';\nimport BulkTransactionForm from './BulkTransactionForm.jsx';\nimport UnitsRow from '../common/UnitsRow.jsx';\n\nconst UserFundDetail = ({ fund, userId, onBack, onRecordTransaction, onRegisterSIP }) => {\n  const [fundDetails, setFundDetails] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showTransactionForm, setShowTransactionForm] = useState(false);\n  const [showBulkTransactionForm, setShowBulkTransactionForm] = useState(false);\n  const [showSIPForm, setShowSIPForm] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [refreshing, setRefreshing] = useState(false);\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const [transactionToDelete, setTransactionToDelete] = useState(null);\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  const loadFundDetails = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await userFundAPI.getUserFundDetails(userId, fund.schemeCode);\n      \n      console.log('Fund Details Response:', response);\n      \n      if (response) {\n        setFundDetails(response);\n      } else {\n        setError('Failed to load fund details');\n      }\n    } catch (err) {\n      console.error('Error loading fund details:', err);\n      setError('Failed to load fund details. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  }, [userId, fund.schemeCode]);\n\n  useEffect(() => {\n    if (fund && userId) {\n      loadFundDetails();\n    }\n  }, [fund, userId, loadFundDetails]);\n\n  const handleRefresh = async () => {\n    setRefreshing(true);\n    await loadFundDetails();\n    setRefreshing(false);\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-IN', {\n      style: 'currency',\n      currency: 'INR',\n      minimumFractionDigits: 2,\n    }).format(amount || 0);\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'Invalid Date';\n    \n    try {\n      // Handle string format \"dd-MM-yyyy\"\n      if (typeof dateString === 'string') {\n        // Parse the dd-MM-yyyy format\n        const parts = dateString.split('-');\n        if (parts.length === 3) {\n          const day = parts[0];\n          const month = parts[1];\n          const year = parts[2];\n          \n          // Create date object (month is 0-indexed in JavaScript)\n          const date = new Date(year, month - 1, day);\n          \n          // Check if date is valid\n          if (isNaN(date.getTime())) {\n            return 'Invalid Date';\n          }\n          \n          return date.toLocaleDateString('en-IN', {\n            year: 'numeric',\n            month: 'short',\n            day: 'numeric'\n          });\n        }\n      }\n      \n      // Fallback for timestamp format (if needed)\n      let date;\n      if (typeof dateString === 'number') {\n        if (dateString > 10000000000) {\n          // Timestamp is in milliseconds\n          date = new Date(dateString);\n        } else {\n          // Timestamp is in seconds\n          date = new Date(dateString * 1000);\n        }\n      } else {\n        date = new Date(dateString);\n      }\n      \n      // Check if date is valid\n      if (isNaN(date.getTime())) {\n        return 'Invalid Date';\n      }\n      \n      return date.toLocaleDateString('en-IN', {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric'\n      });\n    } catch (error) {\n      console.error('Error formatting date:', error);\n      return 'Invalid Date';\n    }\n  };\n\n  const formatPercentage = (value) => {\n    if (value == null || isNaN(value)) {\n      return 'N/A';\n    }\n    return `${value.toFixed(2)}%`;\n  };\n\n  const handleSuccess = (message) => {\n    setSuccessMessage(message);\n    // Reload fund details to show updated data\n    loadFundDetails();\n    // Clear success message after 3 seconds\n    setTimeout(() => setSuccessMessage(''), 3000);\n  };\n\n  const handleDeleteTransaction = (unit) => {\n    if (!unit.transactionId) {\n      setError('Cannot delete transaction: No transaction ID found');\n      return;\n    }\n\n    setTransactionToDelete(unit);\n    setShowDeleteDialog(true);\n  };\n\n  const confirmDeleteTransaction = async () => {\n    if (!transactionToDelete) return;\n\n    try {\n      setIsDeleting(true);\n      setError(null);\n      await transactionAPI.deleteTransaction(transactionToDelete.transactionId);\n      setSuccessMessage('Transaction deleted successfully');\n      // Reload fund details to show updated data\n      await loadFundDetails();\n      // Clear success message after 5 seconds\n      setTimeout(() => setSuccessMessage(''), 5000);\n    } catch (err) {\n      console.error('Error deleting transaction:', err);\n      setError(`Failed to delete transaction: ${err.message || 'Please try again.'}`);\n    } finally {\n      setIsDeleting(false);\n      setShowDeleteDialog(false);\n      setTransactionToDelete(null);\n    }\n  };\n\n  const cancelDeleteTransaction = () => {\n    setShowDeleteDialog(false);\n    setTransactionToDelete(null);\n    setIsDeleting(false);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <LoadingSpinner />\n          <p className=\"mt-4 text-gray-600\">Loading fund details...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <ErrorMessage message={error} onClose={() => setError(null)} />\n          <button\n            onClick={onBack}\n            className=\"mt-4 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105\"\n          >\n            Go Back\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  if (!fundDetails) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"bg-white p-8 rounded-xl shadow-lg border border-gray-200\">\n            <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <PieChart className=\"w-8 h-8 text-gray-400\" />\n            </div>\n            <div className=\"text-gray-500 text-lg mb-4\">No fund details found</div>\n            <button\n              onClick={onBack}\n              className=\"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105\"\n            >\n              Go Back\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const { userFundDTO, summary, units, registeredSIPs } = fundDetails;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50\">\n      {/* Enhanced Header */}\n      <div className=\"bg-white shadow-lg border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-20\">\n            <div className=\"flex items-center space-x-4\">\n              <button\n                onClick={onBack}\n                className=\"p-3 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-all duration-300 hover:scale-105\"\n              >\n                <ArrowLeft className=\"h-6 w-6\" />\n              </button>\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"p-3 bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl\">\n                  <PieChart className=\"h-6 w-6 text-white\" />\n                </div>\n                <div>\n                  <h1 className=\"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n                    {fund.schemeName}\n                  </h1>\n                  <div className=\"flex items-center space-x-2\">\n                    {fundDetails?.latestNav ? (\n                      <span className=\"inline-flex items-center px-2 py-1 rounded-md text-sm font-semibold bg-blue-50 text-blue-700 border border-blue-200\">\n                        Latest NAV: â‚¹{fundDetails.latestNav.toFixed(2)}\n                      </span>\n                    ) : (\n                      <span className=\"inline-flex items-center px-2 py-1 rounded-md text-sm font-semibold bg-gray-50 text-gray-600 border border-gray-200\">\n                        NAV: N/A\n                      </span>\n                    )}\n                    {fundDetails?.latestNavDate && (\n                      <span className=\"inline-flex items-center px-2 py-1 rounded-md text-sm font-semibold bg-green-50 text-green-700 border border-green-200\">\n                        {formatDate(fundDetails.latestNavDate)}\n                      </span>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n            \n            {/* Enhanced Action Buttons */}\n            <div className=\"flex items-center space-x-3\">\n              <button\n                onClick={handleRefresh}\n                disabled={refreshing}\n                className=\"flex items-center px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-300 transform hover:scale-105 disabled:opacity-50\"\n              >\n                <RefreshCw className={`h-4 w-4 mr-2 ${refreshing ? 'animate-spin' : ''}`} />\n                {refreshing ? 'Refreshing...' : 'Refresh'}\n              </button>\n              <button\n                onClick={() => setShowTransactionForm(true)}\n                className=\"flex items-center px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all duration-300 transform hover:scale-105\"\n              >\n                <Plus className=\"h-4 w-4 mr-2\" />\n                Record Transaction\n              </button>\n              <button\n                onClick={() => setShowBulkTransactionForm(true)}\n                className=\"flex items-center px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all duration-300 transform hover:scale-105\"\n              >\n                <Layers className=\"h-4 w-4 mr-2\" />\n                Bulk Transactions\n              </button>\n              <button\n                onClick={() => setShowSIPForm(true)}\n                className=\"flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105\"\n              >\n                <Calendar className=\"h-4 w-4 mr-2\" />\n                Register SIP\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Success Message */}\n        {successMessage && (\n          <div className=\"mb-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl shadow-sm animate-fade-in\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center\">\n                  <svg className=\"h-5 w-5 text-white\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n                  </svg>\n                </div>\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-green-800\">{successMessage}</p>\n              </div>\n              <div className=\"ml-auto\">\n                <button\n                  onClick={() => setSuccessMessage('')}\n                  className=\"text-green-400 hover:text-green-600 focus:outline-none\"\n                >\n                  <svg className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Error Message */}\n        {error && (\n          <div className=\"mb-6 p-4 bg-gradient-to-r from-red-50 to-red-100 border border-red-200 rounded-xl shadow-sm animate-fade-in\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-shrink-0\">\n                <div className=\"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center\">\n                  <svg className=\"h-5 w-5 text-white\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                  </svg>\n                </div>\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-medium text-red-800\">{error}</p>\n              </div>\n              <div className=\"ml-auto\">\n                <button\n                  onClick={() => setError(null)}\n                  className=\"text-red-400 hover:text-red-600 focus:outline-none\"\n                >\n                  <svg className=\"h-5 w-5\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n                  </svg>\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Enhanced Fund Summary Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8\">\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 hover:scale-105 group\">\n            <div className=\"flex items-center justify-between\">\n                <div className=\"p-3 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl group-hover:scale-110 transition-transform duration-300\">\n                  <Coins className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"text-right\">\n                <p className=\"text-sm font-medium text-gray-600 mb-1\">Total Invested</p>\n                <p className=\"text-2xl font-bold text-blue-600\">\n                  {formatCurrency(summary?.totalInvested)}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 hover:scale-105 group\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"p-3 bg-gradient-to-r from-green-500 to-green-600 rounded-xl group-hover:scale-110 transition-transform duration-300\">\n                <TrendingUp className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"text-right\">\n                <p className=\"text-sm font-medium text-gray-600 mb-1\">Current Value</p>\n                <p className=\"text-2xl font-bold text-green-600\">\n                  {formatCurrency(summary?.totalValue)}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 hover:scale-105 group\">\n            <div className=\"flex items-center justify-between\">\n              <div className={`p-3 rounded-xl group-hover:scale-110 transition-transform duration-300 ${\n                (summary?.profitLoss || 0) >= 0 ? 'bg-gradient-to-r from-green-500 to-green-600' : 'bg-gradient-to-r from-red-500 to-red-600'\n              }`}>\n                <PieChart className={`h-6 w-6 ${\n                  (summary?.profitLoss || 0) >= 0 ? 'text-white' : 'text-white'\n                }`} />\n              </div>\n              <div className=\"text-right\">\n                <p className=\"text-sm font-medium text-gray-600 mb-1\">Profit/Loss</p>\n                <p className={`text-2xl font-bold ${\n                  (summary?.profitLoss || 0) >= 0 ? 'text-green-600' : 'text-red-600'\n                }`}>\n                  {formatCurrency(summary?.profitLoss)}\n                </p>\n                <p className={`text-sm font-medium ${\n                  (summary?.profitLossPercent || 0) >= 0 ? 'text-green-600' : 'text-red-600'\n                }`}>\n                  {formatPercentage(summary?.profitLossPercent)}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 hover:scale-105 group\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"p-3 bg-gradient-to-r from-purple-500 to-purple-600 rounded-xl group-hover:scale-110 transition-transform duration-300\">\n                <Activity className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"text-right\">\n                <p className=\"text-sm font-medium text-gray-600 mb-1\">XIRR</p>\n                <p className=\"text-2xl font-bold text-purple-600\">\n                  {formatPercentage(summary?.xirr)}\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-200 hover:shadow-xl transition-all duration-300 hover:scale-105 group\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"p-3 bg-gradient-to-r from-violet-500 to-violet-600 rounded-xl group-hover:scale-110 transition-transform duration-300\">\n                <TrendingUp className=\"h-6 w-6 text-white\" />\n              </div>\n              <div className=\"text-right\">\n                <p className=\"text-sm font-medium text-gray-600 mb-1\">Long Term Gains</p>\n                <p className=\"text-2xl font-bold text-violet-600\">\n                  {formatCurrency(summary?.longTermGains)}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Enhanced Fund Information */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\n          {/* Fund Details */}\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-200\">\n            <div className=\"flex items-center mb-6\">\n              <BarChart3 className=\"w-6 h-6 mr-3 text-blue-600\" />\n              <h3 className=\"text-xl font-bold text-gray-900\">Fund Information</h3>\n            </div>\n            <div className=\"space-y-4\">\n              <div className=\"flex justify-between items-center p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg\">\n                <span className=\"text-gray-600 font-medium\">Fund Name:</span>\n                <span className=\"font-semibold text-gray-900\">{userFundDTO?.fundName}</span>\n              </div>\n              <div className=\"flex justify-between items-center p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg\">\n                <span className=\"text-gray-600 font-medium\">Tag:</span>\n                <span className=\"font-semibold text-gray-900\">{userFundDTO?.tag || 'No tag'}</span>\n              </div>\n              <div className=\"flex justify-between items-center p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg\">\n                <span className=\"text-gray-600 font-medium\">Emergency Fund:</span>\n                <span className={`font-semibold flex items-center ${\n                  userFundDTO?.isEmergency ? 'text-red-600' : 'text-green-600'\n                }`}>\n                  {userFundDTO?.isEmergency ? (\n                    <>\n                      <Shield className=\"w-4 h-4 mr-1\" />\n                      Yes\n                    </>\n                  ) : (\n                    'No'\n                  )}\n                </span>\n              </div>\n              <div className=\"flex justify-between items-center p-3 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg\">\n                <span className=\"text-gray-600 font-medium\">Total Units:</span>\n                <span className=\"font-semibold text-gray-900\">\n                  {summary?.totalUnits != null ? summary.totalUnits.toFixed(4) : '0.0000'}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          {/* Registered SIPs */}\n          <div className=\"bg-white p-6 rounded-xl shadow-lg border border-gray-200\">\n            <div className=\"flex items-center mb-6\">\n              <Calendar className=\"w-6 h-6 mr-3 text-purple-600\" />\n              <h3 className=\"text-xl font-bold text-gray-900\">Registered SIPs</h3>\n            </div>\n            {registeredSIPs && registeredSIPs.length > 0 ? (\n              <div className=\"space-y-3\">\n                {registeredSIPs.map((sip, index) => (\n                  <div key={sip.id || index} className=\"flex justify-between items-center p-4 bg-gradient-to-r from-purple-50 to-indigo-50 rounded-lg hover:shadow-md transition-all duration-300\">\n                    <div>\n                      <p className=\"font-semibold text-gray-900\">{sip.fundName}</p>\n                      <p className=\"text-sm text-gray-600 flex items-center\">\n                        <Zap className=\"w-3 h-3 mr-1 text-yellow-500\" />\n                        Monthly SIP\n                      </p>\n                    </div>\n                    <div className=\"text-right\">\n                      <p className=\"font-bold text-gray-900\">{formatCurrency(sip.amount)}</p>\n                      <p className=\"text-sm text-gray-600\">per month</p>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"text-center py-12\">\n                <div className=\"w-16 h-16 bg-gradient-to-br from-purple-100 to-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                  <Calendar className=\"h-8 w-8 text-purple-500\" />\n                </div>\n                <p className=\"text-gray-500 font-medium\">No SIPs registered</p>\n                <p className=\"text-sm text-gray-400 mt-2\">Click \"Register SIP\" to set up a new SIP</p>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Enhanced Units History */}\n        <div className=\"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden\">\n          <div className=\"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50\">\n            <div className=\"flex items-center justify-between\">\n              <h3 className=\"text-xl font-bold text-gray-900 flex items-center\">\n                <PieChart className=\"h-6 w-6 mr-3 text-blue-600\" />\n                Units History\n              </h3>\n              <div className=\"flex space-x-2\">\n                <div className=\"flex items-center space-x-1 text-xs text-gray-600\">\n                  <div className=\"w-3 h-3 bg-green-500 rounded-full animate-pulse\"></div>\n                  <span>Active BUY</span>\n                </div>\n                <div className=\"flex items-center space-x-1 text-xs text-gray-600\">\n                  <div className=\"w-3 h-3 bg-gray-500 rounded-full\"></div>\n                  <span>Sold BUY</span>\n                </div>\n                <div className=\"flex items-center space-x-1 text-xs text-gray-600\">\n                  <div className=\"w-3 h-3 bg-red-500 rounded-full animate-pulse\"></div>\n                  <span>SELL</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"overflow-x-auto\">\n            {units && units.length > 0 ? (\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Date\n                    </th>\n                    <th className=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Transaction Type\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Amount\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Units\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      P&L\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      P&L %\n                    </th>\n                    <th className=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Actions\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {units.map((unit, index) => (\n                    <UnitsRow\n                      key={index}\n                      unit={unit}\n                      index={index}\n                      formatCurrency={formatCurrency}\n                      formatDate={formatDate}\n                      formatPercentage={formatPercentage}\n                      onDelete={handleDeleteTransaction}\n                    />\n                  ))}\n                </tbody>\n              </table>\n            ) : (\n              <div className=\"text-center py-16\">\n                <div className=\"w-20 h-20 bg-gradient-to-br from-blue-100 to-purple-100 rounded-full flex items-center justify-center mx-auto mb-6\">\n                  <PieChart className=\"w-10 h-10 text-blue-500\" />\n                </div>\n                <p className=\"text-gray-500 font-medium\">No units history available</p>\n                <p className=\"text-sm text-gray-400 mt-2\">Record transactions to see units history</p>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Forms */}\n      <TransactionForm\n        isOpen={showTransactionForm}\n        onClose={() => setShowTransactionForm(false)}\n        fund={fund}\n        userId={userId}\n        onSuccess={handleSuccess}\n      />\n      <BulkTransactionForm\n        isOpen={showBulkTransactionForm}\n        onClose={() => setShowBulkTransactionForm(false)}\n        fund={fund}\n        userId={userId}\n        onSuccess={handleSuccess}\n      />\n      <SIPForm\n        isOpen={showSIPForm}\n        onClose={() => setShowSIPForm(false)}\n        fund={fund}\n        userId={userId}\n        onSuccess={handleSuccess}\n      />\n\n      {/* Delete Transaction Confirmation Dialog */}\n      <ConfirmationDialog\n        isOpen={showDeleteDialog}\n        onClose={cancelDeleteTransaction}\n        onConfirm={confirmDeleteTransaction}\n        title=\"Delete Transaction\"\n        message={\n          transactionToDelete ? \n          `Are you sure you want to delete this transaction?\\n\\nDate: ${formatDate(transactionToDelete.date)}\\nAmount: ${formatCurrency(transactionToDelete.amount)}\\nUnits: ${transactionToDelete.units?.toFixed(4) || '0.0000'}\\n\\nThis action cannot be undone.` :\n          'Are you sure you want to delete this transaction?'\n        }\n        confirmText=\"Delete Transaction\"\n        cancelText=\"Cancel\"\n        isLoading={isDeleting}\n        isDestructive={true}\n      />\n    </div>\n  );\n};\n\nexport default UserFundDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}